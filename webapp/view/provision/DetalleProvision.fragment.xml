<c:FragmentDefinition
	xmlns:c="sap.ui.core"
	xmlns="sap.ui.table"
	xmlns:u="sap.ui.unified"
	xmlns:m="sap.m"
>
	<m:VBox >
		<Table id="tblNuevoProv"
				rows="{
                path: 'detalleProv>/',
                sorter: {
                    path: 'posicionTabla',
                    descending: false
                }
            }"				
				selectionMode="None"
				visibleRowCount="7"
				ariaLabelledBy="title">
			<extension>
                <m:OverflowToolbar style="Clear">
                    <m:Button                       
                        icon="sap-icon://delete"
                        text="Eliminar Erroreos"
                        press="onBorrarErroneosDetallProvision"
                        type="Reject"/>
					<m:Button                       
                        icon="sap-icon://excel-attachment"
                        text="Limpiar Tabla"
                        press="onBorrarGrillDetallProvision"
                        type="Reject"/>
					<m:Button                       
                        icon="sap-icon://activity-items"
                        text="Descargar Log de Resultados"
                        press="descargarLogResultados"
                        type="Reject"/>
                </m:OverflowToolbar>
           </extension>
			<columns>
				<Column width="5rem">
					<m:Label text="ID" />
					<template>
						<m:Text text="{detalleProv>posicionTabla}"/>
					</template>
				</Column>
				<Column width="6rem">
					<m:Label text="Estado" />
					<template>
						<m:VBox justifyContent="Center" alignItems="{= ${device>/system/phone} ? 'Start' : 'Center' }" direction="{= ${device>/system/phone} ? 'Column' : 'Row' }" width="100%">
							<m:ObjectStatus
									visible="{= ${detalleProv>Estado} }"
									text="Validado"
									icon="sap-icon://sys-enter-2"
									state="Success" />
							<m:Button 
									visible="{= !${detalleProv>Estado} }"
									icon="sap-icon://detail-view"
									press="onVerMotivo" 
									type="Negative"/>
						</m:VBox>
					</template>
				</Column>
				<!-- <Column width="11rem"><m:Label text="Usuario Responsable" /><template><m:Text text="{detalleProv>usuarioResponsable} - {detalleProv>usuarioResponsableNombres}" /></template></Column> -->
				<!-- <Column width="11rem"><m:Label text="Descripción Breve" /><template><m:Text text="{detalleProv>descripcionBreve}"/></template></Column> -->
				<Column width="15rem">
					<m:Label text="OC/SOLPED/PA" />
					<template>
						<m:Text text="{detalleProv>sustento}"/>
					</template>
				</Column>
				<Column width="6rem">
					<m:Label text="Posición" />
					<template>
						<m:Text text="{detalleProv>posicion}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Rubro" />
					<template>
						<m:Text text="{detalleProv>rubro}"/>
					</template>
				</Column>
				<Column  width="11rem">
					<m:Label text="Sustento" />
					<template>
						<m:Text text="{detalleProv>sustentoText}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Cuenta Contable" />
					<template>
						<m:Text text="{detalleProv>cuentaContable} - {detalleProv>cuentaContableDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Centro de Costo" />
					<template>
						<m:Text text="{detalleProv>centroCosto} - {detalleProv>centroCostoDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Centro Gestor" />
					<template>
						<m:Text text="{detalleProv>centroGestor} - {detalleProv>centroGestorDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Orden Interna" />
					<template>
						<m:Text text="{detalleProv>ordenInterna} - {detalleProv>ordenInternaDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Descripción de Servicio" />
					<template>
						<m:Text text="{detalleProv>descripcionServicio}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Proveedor" />
					<template>
						<m:Text text="{detalleProv>proveedor} - {detalleProv>proveedorNombre}"/>
					</template>
				</Column>
				<Column width="11rem"><m:Label text="Mes de Servicio" /><template><m:Text text="{
					path: 'detalleProv>periodoGasto',
					type: 'sap.ui.model.type.Date',
					formatOptions: {
						pattern: 'MM-y', UTC: 'true'
					}
				}" /></template></Column>
				<Column width="11rem">
					<m:Label text="Monto" />
					<template>
						<m:Text text="{ path: 'detalleProv>monto',
								type: 'sap.ui.model.type.Float',
								formatOptions: { decimals: 2,
									style: 'standard',
									decimalSeparator: '.',
									groupingEnabled: true,
									groupingSeparator: ',',
									minFractionDigits: 2,
									maxFractionDigits: 2
								}
							}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Moneda" />
					<template>
						<m:Text text="{detalleProv>moneda}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Tipo de pago" />
					<template>
						<m:Text text="{ path: 'detalleProv>idTipoPago_idTipoPago', formatter: '.getDescTipoPago'}"/>
					</template>
				</Column>
				
				<Column width="11rem">
					<m:Label text="{i18n>tipoGasto}" />
					<template>
						<m:Text text="{ path: 'detalleProv>idTipoGasto_idTipoGasto', formatter: '.getDescTipoGasto'}"/>
					</template>
				</Column>
				
				<Column width="11rem">
					<m:Label text="{i18n>tipoServicio}" />
					<template>
						<m:Text text="{ path: 'detalleProv>idTipoServicio_idTipoServicio', formatter: '.getDescTipoServicio'}"/>
					</template>
				</Column>
				<Column hAlign="Center" width="5rem" >
					<m:Label text="Borrar" />
					<template>
						<m:Button 
								icon="sap-icon://delete"
								press="onBorrarResults" 
								type="Transparent"/>
					</template>
				</Column>
			</columns>
		</Table>
		<Table id="tblViewProv"
				rows="{detalleProv>/}"
				selectionMode="None"
				visibleRowCount="7"
				ariaLabelledBy="title">
			<columns>
				<!-- <Column width="11rem">
					<m:Label text="Usuario Responsable" />
					<template>
						<m:Text text="{detalleProv>usuarioResponsable} - {detalleProv>usuarioResponsableNombres}" />
					</template>
				</Column> -->
				<!-- <Column width="11rem"><m:Label text="Descripción Breve" /><template><m:Text text="{detalleProv>descripcionBreve}"/></template></Column> -->
				<Column width="10rem">
					<m:Label text="OC/SOLPED/PA" />
					<template>
						<m:Text text="{detalleProv>sustento}"/>
					</template>
				</Column>
				<Column width="10rem">
					<m:Label text="Posición" />
					<template>
						<m:Text text="{detalleProv>posicion}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Rubro" />
					<template>
						<m:Text text="{detalleProv>rubro}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Descripción de Servicio" />
					<template>
						<m:Text text="{detalleProv>descripcionServicio}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Cuenta Contable" />
					<template>
						<m:Text text="{detalleProv>cuentaContable} - {detalleProv>cuentaContableDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Centro de Costo" />
					<template>
						<m:Text text="{detalleProv>centroCosto} - {detalleProv>centroCostoDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Centro Gestor" />
					<template>
						<m:Text text="{detalleProv>centroGestor} - {detalleProv>centroGestorDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Orden Interna" />
					<template>
						<m:Text text="{detalleProv>ordenInterna} - {detalleProv>ordenInternaDesc}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Proveedor" />
					<template>
						<m:Text text="{detalleProv>proveedor} - {detalleProv>proveedorNombre}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Mes de Servicio" />
					<template>
						<m:Text text="{
								path: 'detalleProv>periodoGasto',
								type: 'sap.ui.model.type.Date',
								formatOptions: {
									pattern: 'MM-y', UTC: 'true'
								}
							}" />
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Monto" />
					<template>
						<m:Text text="{ path: 'detalleProv>monto',
								type: 'sap.ui.model.type.Float',
								formatOptions: { decimals: 2,
									style: 'standard',
									decimalSeparator: '.',
									groupingEnabled: true,
									groupingSeparator: ',',
									minFractionDigits: 2,
									maxFractionDigits: 2
								}
							}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Moneda" />
					<template>
						<m:Text text="{detalleProv>moneda}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Sustento" />
					<template>
						<m:Text text="{detalleProv>sustentoText}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="Tipo de pago" />
					<template>
						<m:Text text="{detalleProv>idTipoPago/descripcion}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="{i18n>tipoGasto}" />
					<template>
						<m:Text text="{detalleProv>idTipoGasto/descripcion}"/>
					</template>
				</Column>
				<Column width="11rem">
					<m:Label text="{i18n>tipoServicio}" />
					<template>
						<m:Text text="{detalleProv>idTipoServicio/descripcion}"/>
					</template>
				</Column>
			</columns>
		</Table>
		<!-- 
			<Table id="tblViewProv"
				rows="{detalleProv}"
				selectionMode="None"
				visibleRowCount="7"
				ariaLabelledBy="title"><columns><Column width="11rem"><m:Label text="Usuario Responsable" /><template><m:Text text="{usuarioResponsable}" /></template></Column><Column width="11rem"><m:Label text="Descripción Breve" /><template><m:Text text="{descripcionBreve}"/></template></Column><Column width="11rem"><m:Label text="Cuenta Contable" /><template><m:Text text="{cuentaContable}"/></template></Column><Column width="11rem"><m:Label text="Centro de Costo" /><template><m:Text text="{centroCosto}"/></template></Column><Column width="11rem"><m:Label text="Centro Gestor" /><template><m:Text text="{centroGestor}"/></template></Column><Column width="11rem"><m:Label text="Orden Interna" /><template><m:Text text="{ordenInterna}"/></template></Column><Column width="11rem"><m:Label text="Tipo de pago" /><template><m:Text text="{tipoPago_ID}"/></template></Column><Column width="15rem"><m:Label text="Sustento" /><template><m:Text text="{documento}"/></template></Column><Column width="15rem"><m:Label text="Posición" /><template><m:Text text="{sustento}"/></template></Column><Column width="11rem"><m:Label text="Descripción de Servicio" /><template><m:Text text="{descripcionServicio}"/></template></Column><Column width="11rem"><m:Label text="Proveedor" /><template><m:Text text="{proveedor}"/></template></Column><Column width="11rem"><m:Label text="Periodo del Gasto" /><template><m:Text text="{periodoGasto}"/></template></Column><Column width="11rem"><m:Label text="Monto" /><template><m:Text text="{monto}"/></template></Column><Column width="11rem"><m:Label text="Moneda" /><template><m:Text text="{moneda}"/></template></Column></columns></Table> -->
	</m:VBox>
</c:FragmentDefinition>